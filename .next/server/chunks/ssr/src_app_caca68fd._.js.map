{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/DISK%20%28E%29/Business/placearena/placearena/src/app/firebase/firebase.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCETRYIbCfJf4_KVeycitUjeLE-BBJN61g\",\r\n  authDomain: \"placearena-323f6.firebaseapp.com\",\r\n  projectId: \"placearena-323f6\",\r\n  storageBucket: \"placearena-323f6.firebasestorage.app\",\r\n  messagingSenderId: \"202220710234\",\r\n  appId: \"1:202220710234:web:b61f54bc28c611bfe26b63\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n// Export the auth object\r\nexport const auth = getAuth(app);\r\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;AACvD;AAAA;AACA;AAAA;;;AACA,4DAA4D;AAC5D,iEAAiE;AAEjE,wCAAwC;AACxC,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAA,GAAA,gLAAA,CAAA,gBAAa,AAAD,EAAE;AAEnB,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/DISK%20%28E%29/Business/placearena/placearena/src/app/login/actions.ts"],"sourcesContent":["\"use server\";\r\nexport const SignUpWithGoogleUser = async ({\r\n  user,\r\n}: {\r\n  user: Record<string, unknown>;\r\n}) => {\r\n  try {\r\n    const res = await fetch(\r\n      `${process.env.BACKEND_URL}/auth/signup-with-google`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user),\r\n      }\r\n    );\r\n    console.log(user);\r\n    if (!res.ok) {\r\n      throw new Error(`Failed to Login user: ${res.statusText}`);\r\n    }\r\n\r\n    const data = await res.json();\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log(\"GOOGLE SIGNIN ACTION ERROR: \", error);\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;;IACa,uBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/DISK%20%28E%29/Business/placearena/placearena/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Mail, Lock } from \"lucide-react\";\r\nimport { storeUserInfo } from \"@/services/auth.service\";\r\nimport { GoogleAuthProvider, signInWithPopup } from \"@firebase/auth\";\r\nimport { auth } from \"../firebase/firebase\";\r\nimport { SignUpWithGoogleUser } from \"./actions\";\r\n\r\nexport default function Login() {\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [submitStatus, setSubmitStatus] = useState(\"\");\r\n  const router = useRouter();\r\n  const provider = new GoogleAuthProvider();\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!formData.email || !formData.password) {\r\n      setSubmitStatus(\"Please fill in all fields\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setSubmitStatus(\"\");\r\n\r\n    try {\r\n      const response = await fetch(\"/api/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          email: formData.email,\r\n          password: formData.password,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        setSubmitStatus(data.error || \"Something went wrong\");\r\n        return;\r\n      }\r\n      storeUserInfo({\r\n        accessToken: data.accessToken,\r\n        refreshToken: data.refreshToken,\r\n      });\r\n      router.push(\"/\");\r\n      setSubmitStatus(\"Login successful! Redirecting...\");\r\n    } catch (error) {\r\n      setSubmitStatus(\"Invalid email or password. Please try again.\");\r\n      console.error(error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleGoogleLogin = async () => {\r\n    try {\r\n      setIsSubmitting(true);\r\n      const result = await signInWithPopup(auth, provider);\r\n      const loggedInUser = result.user;\r\n\r\n      try {\r\n        const userData = {\r\n          fullName: loggedInUser.displayName || \"Mr X\",\r\n          email: loggedInUser.email,\r\n          role: \"tenant\",\r\n          password: loggedInUser.uid,\r\n          phoneNumber: loggedInUser.phoneNumber || \"+8801300000000\",\r\n        };\r\n        const data = await SignUpWithGoogleUser({ user: userData });\r\n\r\n        storeUserInfo({\r\n          accessToken: data.accessToken,\r\n          refreshToken: data.refreshToken,\r\n        });\r\n        router.push(\"/\");\r\n        setSubmitStatus(\"Login successful! Redirecting...\");\r\n      } catch (error) {\r\n        console.error(\"signup-with-google login error:\", error);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Google login error:\", error);\r\n      setSubmitStatus(\"Google login failed. Please try again.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-950\">\r\n      <div className=\"flex items-center justify-center min-h-[80vh] px-6\">\r\n        <div className=\"max-w-md w-full\">\r\n          <div className=\"text-center mb-8\">\r\n            <div\r\n              style={{\r\n                backgroundImage: \"url('/icon.jpeg')\",\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                backgroundBlendMode: \"overlay\",\r\n              }}\r\n              className=\"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl mx-auto mb-4 flex items-center justify-center\"\r\n            ></div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\r\n              Welcome Back\r\n            </h1>\r\n            <p className=\"text-gray-600 dark:text-gray-400\">\r\n              Sign in to your Place Arena account\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-8\">\r\n            <div className=\"mb-6\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleGoogleLogin}\r\n                disabled={isSubmitting}\r\n                className={`w-full py-3 rounded-lg font-semibold transition-all duration-300 cursor-pointer whitespace-nowrap flex items-center justify-center gap-2 ${\r\n                  isSubmitting\r\n                    ? \"bg-gray-400 text-gray-200 cursor-not-allowed\"\r\n                    : \"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n                }`}\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"20px\"\r\n                  height=\"20px\"\r\n                  viewBox=\"-3 0 262 262\"\r\n                  preserveAspectRatio=\"xMidYMid\"\r\n                >\r\n                  <path\r\n                    d=\"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027\"\r\n                    fill=\"#4285F4\"\r\n                  />\r\n                  <path\r\n                    d=\"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1\"\r\n                    fill=\"#34A853\"\r\n                  />\r\n                  <path\r\n                    d=\"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782\"\r\n                    fill=\"#FBBC05\"\r\n                  />\r\n                  <path\r\n                    d=\"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251\"\r\n                    fill=\"#EB4335\"\r\n                  />\r\n                </svg>\r\n                Continue with Google\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"text-center text-gray-600 dark:text-gray-400 mb-6\">\r\n              or\r\n            </div>\r\n\r\n            <form id=\"login-form\" onSubmit={handleSubmit} className=\"space-y-6\">\r\n              <div className=\"relative\">\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Email Address\r\n                </label>\r\n                <div className=\"absolute inset-y-0 left-0 top-[28] flex items-center pl-3\">\r\n                  <Mail className=\"h-5 w-5 text-gray-400\" />\r\n                </div>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter your email\"\r\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"relative\">\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Password\r\n                </label>\r\n                <div className=\"absolute inset-y-0 left-0 top-[28] flex items-center pl-3\">\r\n                  <Lock className=\"h-5 w-5 text-gray-400\" />\r\n                </div>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={formData.password}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter your password\"\r\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n                  />\r\n                  <span className=\"ml-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                    Remember me\r\n                  </span>\r\n                </label>\r\n                <Link\r\n                  href=\"/forgot-password\"\r\n                  className=\"text-sm text-purple-600 dark:text-purple-400 hover:underline cursor-pointer\"\r\n                >\r\n                  Forgot password?\r\n                </Link>\r\n              </div>\r\n\r\n              {submitStatus && (\r\n                <div\r\n                  className={`p-3 rounded-lg text-sm ${\r\n                    submitStatus.includes(\"successful\")\r\n                      ? \"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400\"\r\n                      : \"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400\"\r\n                  }`}\r\n                >\r\n                  {submitStatus}\r\n                </div>\r\n              )}\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                className={`w-full py-3 rounded-lg font-semibold transition-all duration-300 cursor-pointer whitespace-nowrap ${\r\n                  isSubmitting\r\n                    ? \"bg-gray-400 text-gray-200 cursor-not-allowed\"\r\n                    : \"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700\"\r\n                }`}\r\n              >\r\n                {isSubmitting ? (\r\n                  <div className=\"flex items-center justify-center\">\r\n                    <i className=\"ri-loader-line animate-spin mr-2\"></i>\r\n                    Signing in...\r\n                  </div>\r\n                ) : (\r\n                  \"Sign In\"\r\n                )}\r\n              </button>\r\n\r\n              <div className=\"text-center\">\r\n                <span className=\"text-gray-600 dark:text-gray-400\">\r\n                  Don&lsquo;t have an account?{\" \"}\r\n                </span>\r\n                <Link\r\n                  href=\"/signup\"\r\n                  className=\"text-purple-600 dark:text-purple-400 hover:underline font-medium cursor-pointer\"\r\n                >\r\n                  Sign up\r\n                </Link>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}