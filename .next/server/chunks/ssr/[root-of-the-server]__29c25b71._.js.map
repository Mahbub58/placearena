{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///G:/Personal-Projects/placearena/src/app/actions.ts"],"sourcesContent":["\"use server\";\r\n\r\nexport async function getUserProfile({\r\n  accessToken,\r\n  refreshToken,\r\n}: {\r\n  accessToken: string;\r\n  refreshToken?: string;\r\n}) {\r\n  try {\r\n    // If we don't have an access token, try refreshing with the refresh token\r\n    if (!accessToken) {\r\n      if (refreshToken) {\r\n        const refreshtokenRes = await fetch(\r\n          `${process.env.BACKEND_URL}/auth/refresh`,\r\n          {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ refresh_token: refreshToken }),\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n          }\r\n        );\r\n        const accesTokenResponse = await refreshtokenRes.json();\r\n        if (!!accesTokenResponse.accessToken) {\r\n          return getUserProfile({ accessToken: accesTokenResponse.accessToken });\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n\r\n    // We have an access token, attempt to load profile\r\n    const res = await fetch(`${process.env.BACKEND_URL}/auth/profile`, {\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const profileData = await res.json();\r\n\r\n    if (profileData.success) {\r\n      return profileData?.data;\r\n    } else if (refreshToken) {\r\n      // If access token failed, attempt refresh with provided refresh token\r\n      const refreshtokenRes = await fetch(\r\n        `${process.env.BACKEND_URL}/auth/refresh`,\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify({ refresh_token: refreshToken }),\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n        }\r\n      );\r\n\r\n      const accesTokenResponse = await refreshtokenRes.json();\r\n\r\n      if (!!accesTokenResponse.accessToken) {\r\n        return getUserProfile({ accessToken: accesTokenResponse.accessToken });\r\n      }\r\n    }\r\n    return null;\r\n  } catch (err) {\r\n    console.error(\"Network error:\", err);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport const getHomePageProperties = async () => {\r\n  const res = await fetch(\r\n    `${process.env.BACKEND_URL}/property`,\r\n    { next: { revalidate: 0 }, cache: \"no-store\" }\r\n  );\r\n  const data = await res.json();\r\n\r\n  return data;\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAEO,eAAe,eAAe,EACnC,WAAW,EACX,YAAY,EAIb;IACC,IAAI;QACF,0EAA0E;QAC1E,IAAI,CAAC,aAAa;YAChB,IAAI,cAAc;gBAChB,MAAM,kBAAkB,MAAM,MAC5B,GAAG,QAAQ,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,EACzC;oBACE,QAAQ;oBACR,MAAM,KAAK,SAAS,CAAC;wBAAE,eAAe;oBAAa;oBACnD,SAAS;wBAAE,gBAAgB;oBAAmB;gBAChD;gBAEF,MAAM,qBAAqB,MAAM,gBAAgB,IAAI;gBACrD,IAAI,CAAC,CAAC,mBAAmB,WAAW,EAAE;oBACpC,OAAO,eAAe;wBAAE,aAAa,mBAAmB,WAAW;oBAAC;gBACtE;YACF;YACA,OAAO;QACT;QAEA,mDAAmD;QACnD,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE;YACjE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,aAAa;YACxC;YACA,aAAa;QACf;QAEA,MAAM,cAAc,MAAM,IAAI,IAAI;QAElC,IAAI,YAAY,OAAO,EAAE;YACvB,OAAO,aAAa;QACtB,OAAO,IAAI,cAAc;YACvB,sEAAsE;YACtE,MAAM,kBAAkB,MAAM,MAC5B,GAAG,QAAQ,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,EACzC;gBACE,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBAAE,eAAe;gBAAa;gBACnD,SAAS;oBAAE,gBAAgB;gBAAmB;YAChD;YAGF,MAAM,qBAAqB,MAAM,gBAAgB,IAAI;YAErD,IAAI,CAAC,CAAC,mBAAmB,WAAW,EAAE;gBACpC,OAAO,eAAe;oBAAE,aAAa,mBAAmB,WAAW;gBAAC;YACtE;QACF;QACA,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,kBAAkB;QAChC,OAAO;IACT;AACF;AAEO,MAAM,wBAAwB;IACnC,MAAM,MAAM,MAAM,MAChB,GAAG,QAAQ,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC,EACrC;QAAE,MAAM;YAAE,YAAY;QAAE;QAAG,OAAO;IAAW;IAE/C,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,OAAO;AACT;;;IAvEsB;IA+DT;;AA/DS,+OAAA;AA+DT,+OAAA","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///G:/Personal-Projects/placearena/.next-internal/server/app/add-property/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getUserProfile as '40f7eac6afd3a93c4de9e921c8e46916e9c3cb9e5d'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///G:/Personal-Projects/placearena/src/app/add-property/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/add-property/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/add-property/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///G:/Personal-Projects/placearena/src/app/add-property/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/add-property/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/add-property/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6Q,GAC1S,2CACA","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}